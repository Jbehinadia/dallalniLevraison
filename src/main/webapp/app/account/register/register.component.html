<div class="d-flex justify-content-center">
  <div class="col-md-4 text-center company__info">
    <div class="delivery-header"></div>
  </div>
  <div class="col-md-8">
    <div class="d-flex justify-content-center">
      <div class="col-md-8">
        <h1 data-cy="registerTitle">Créer votre compte</h1>
        <jhi-alert-error></jhi-alert-error>
        <jhi-alert></jhi-alert>
        <div class="alert alert-success" *ngIf="success"><strong>Inscription enregistrée!</strong>attendent la confirmationde l'admin.</div>

        <div class="alert alert-danger" *ngIf="error"><strong>L’inscription a échoué!</strong>Veuillez réessayer plus tard.</div>

        <div class="alert alert-danger" *ngIf="errorUserExists">
          <strong>Nom de connexion déjà enregistré !</strong>Veuillez en choisir une autre.
        </div>

        <div class="alert alert-danger" *ngIf="errorEmailExists">
          <strong>Ce nom d'utilisateur est déjà utilisé!</strong>Essayez un autre nom.
        </div>

        <div class="alert alert-danger" *ngIf="doNotMatch">Le mot de passe et sa confirmation ne correspondent pas !</div>
      </div>
    </div>
    <div class="d-flex justify-content-center">
      <div class="col-md-8">
        <form name="form" role="form" (ngSubmit)="register()" #editForm="ngForm" *ngIf="!success">
          <div class="mb-2">
            <input type="text" class="form__input" id="login" name="login" placeholder="connexion" [(ngModel)]="user.login" required />
          </div>
          <div class="d-flex mb-3">
            <div class="col-md-6 m-1">
              <input
                type="text"
                class="form__input"
                id="firstName"
                name="firstName"
                placeholder="prénom"
                [(ngModel)]="user.firstName"
                required
              />
            </div>
            <div class="col-md-6 m-1">
              <input
                type="text"
                class="form__input"
                id="lastName"
                name="lastName"
                placeholder="Nom Famille"
                [(ngModel)]="user.lastName"
                required
              />
            </div>
          </div>

          <div class="mb-2">
            <input type="email" class="form__input" id="email" name="email" placeholder="email" [(ngModel)]="user.email" required />
          </div>

          <div class="d-flex mb-3">
            <div class="col-md-6 m-1">
              <input
                type="password"
                class="form__input"
                id="password"
                name="password"
                placeholder="nouveau mot de passe"
                [(ngModel)]="user.password"
                required
              />

              <div class="text-center">
                <jhi-password-strength-bar [passwordToCheck]="user.password!"> </jhi-password-strength-bar>
              </div>
            </div>

            <div class="col-md-6 m-1">
              <input
                type="password"
                class="form__input"
                id="confirmPassword"
                name="confirmPassword"
                placeholder="Confirmez le nouveau mot de passe"
                [(ngModel)]="user.confirmPassword"
                required
              />
            </div>
          </div>

          <div class="mb-3">
            <div class="d-flex">
              <div class="form-check m-2">
                <input
                  class="form-check-input"
                  type="radio"
                  name="flexRadioDefault"
                  id="flexRadioDefault1"
                  value="option1"
                  (change)="typeUUserChenged('Client')"
                  checked
                />
                <label class="form-check-label" for="flexRadioDefault1">Client</label>
              </div>
              <div class="form-check m-2">
                <input
                  class="form-check-input"
                  type="radio"
                  name="flexRadioDefault"
                  id="flexRadioDefault2"
                  value="option2"
                  (change)="typeUUserChenged('Livreur')"
                />
                <label class="form-check-label" for="flexRadioDefault2">Livreur</label>
              </div>
              <div class="form-check m-2">
                <input
                  class="form-check-input"
                  type="radio"
                  name="flexRadioDefault"
                  id="flexRadioDefault3"
                  value="option3"
                  (change)="typeUUserChenged('Responsable')"
                />
                <label class="form-check-label" for="flexRadioDefault3">Responsable Restaurant</label>
              </div>
            </div>

            <div *ngIf="typeUser === 'Client'">
              <input
                type="text"
                class="form__input"
                id="adresseClient"
                name="adresseClient"
                placeholder="votre adresse"
                [(ngModel)]="client.adresseClient"
                required
              />
              <input
                type="number"
                class="form__input"
                id="numClient"
                name="numClient"
                placeholder="numéro de téléphone"
                [(ngModel)]="client.numClient"
                required
              />
            </div>

            <div *ngIf="typeUser === 'Livreur'">
              <input
                type="number"
                class="form__input"
                id="numLivreur"
                name="numLivreur"
                placeholder="numéro de téléphone"
                [(ngModel)]="livreur.numLivreur"
                required
              />
            </div>

            <div *ngIf="typeUser === 'Responsable'">
              <input
                type="text"
                class="form__input"
                id="nomResto"
                name="nomResto"
                placeholder="nom de Restaurant"
                [(ngModel)]="resto.nomRestaurant"
                required
              />
              <input
                type="text"
                class="form__input"
                id="adresseRestaurant"
                name="adresseRestaurant"
                placeholder="votre adresse"
                [(ngModel)]="resto.adresseRestaurant"
                required
              />
              <input
                type="number"
                class="form__input"
                id="numRestaurant"
                name="numRestaurant"
                placeholder="numéro de téléphone"
                [(ngModel)]="resto.numRestaurant"
                required
              />
            </div>
          </div>

          <div class="text-center">
            <button type="submit" class="btn btn-primary" [disabled]="editForm.form.invalid">S'inscrire</button>
          </div>
        </form>

        <div class="mt-3 alert text-center">
          <a class="alert-link" routerLink="/login">sign in</a>
        </div>
      </div>
    </div>
  </div>
</div>
